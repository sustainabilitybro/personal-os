<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Identity Command Center</title>
    <style>
        :root {
            --color-primary: #1a4d6d;
            --color-primary-light: #2d8aa3;
            --color-secondary: #FFCC33;
            --color-dark: #131615;
            --color-light: #ecf0f1;
            --color-success: #27ae60;
            --color-danger: #e74c3c;
            --color-border: #34495e;
            --font-mono: 'Courier New', monospace;
            --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-sans);
            background: #131615;
            color: var(--color-light);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid var(--color-secondary);
            padding-bottom: 20px;
        }

        .header h1 {
            margin: 0;
            font-size: 2.5em;
            color: var(--color-secondary);
            font-family: var(--font-mono);
            letter-spacing: 2px;
        }

        .header p {
            margin: 5px 0 0 0;
            color: #95a5a6;
            font-size: 0.95em;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .column {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .panel {
            background: rgba(52, 73, 94, 0.3);
            border: 2px solid var(--color-secondary);
            border-radius: 12px;
            padding: 20px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .panel:hover {
            border-color: var(--color-secondary);
            box-shadow: 0 0 15px rgba(255, 204, 51, 0.2);
        }

        .panel-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--color-secondary);
        }

        .panel-header h2 {
            margin: 0;
            font-size: 1.4em;
            color: var(--color-secondary);
            font-family: var(--font-mono);
        }

        .panel-label {
            font-size: 0.75em;
            color: #95a5a6;
            margin-left: 10px;
            font-family: var(--font-mono);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 6px;
            color: var(--color-primary-light);
            font-size: 0.9em;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        input[type="text"],
        textarea {
            width: 100%;
            padding: 10px;
            background: rgba(15, 36, 56, 0.8);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            color: var(--color-light);
            font-family: var(--font-sans);
            font-size: 0.95em;
            transition: border-color 0.3s;
            position: relative;
        }

        input[type="text"]::placeholder,
        textarea::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        .search-container {
            position: relative;
            margin-bottom: 15px;
        }

        .search-input {
            width: 100%;
            padding: 10px 40px 10px 10px;
            background: rgba(15, 36, 56, 0.8);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            color: var(--color-light);
            font-family: var(--font-sans);
            font-size: 0.95em;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--color-secondary);
            box-shadow: 0 0 10px rgba(255, 204, 51, 0.3);
        }

        .search-icon {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--color-secondary);
            font-size: 1.2em;
            pointer-events: none;
        }

        .filtered-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            max-height: 300px;
            overflow-y: auto;
            padding: 8px;
            background: rgba(26, 77, 109, 0.2);
            border-radius: 6px;
            margin-bottom: 10px;
        }

        .filtered-suggestions::-webkit-scrollbar {
            width: 6px;
        }

        .filtered-suggestions::-webkit-scrollbar-track {
            background: rgba(52, 73, 94, 0.3);
            border-radius: 3px;
        }

        .filtered-suggestions::-webkit-scrollbar-thumb {
            background: var(--color-secondary);
            border-radius: 3px;
        }

        .filtered-suggestions::-webkit-scrollbar-thumb:hover {
            background: #FFB500;
        }

        input[type="text"]:focus,
        textarea:focus {
            outline: none;
            border-color: var(--color-secondary);
            box-shadow: 0 0 10px rgba(243, 156, 18, 0.3);
        }

        textarea {
            resize: vertical;
            min-height: 80px;
            font-family: var(--font-mono);
            font-size: 0.85em;
        }

        .tag-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .tag {
            background: var(--color-primary);
            color: var(--color-light);
            padding: 6px 12px;
            border-radius: 24px;
            font-size: 0.85em;
            display: flex;
            align-items: center;
            gap: 6px;
            border: 1px solid var(--color-primary-light);
        }

        .tag button {
            background: none;
            border: none;
            color: var(--color-light);
            cursor: pointer;
            font-size: 1.2em;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
        }

        .tag button:hover {
            color: var(--color-secondary);
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        button {
            padding: 10px 16px;
            border: 1px solid var(--color-secondary);
            border-radius: 8px;
            background: transparent;
            color: var(--color-secondary);
            cursor: pointer;
            font-family: var(--font-mono);
            text-transform: uppercase;
            font-size: 0.8em;
            letter-spacing: 1px;
            transition: all 0.3s;
        }

        .suggestions-label {
            font-size: 0.7em;
            color: #95a5a6;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 10px;
            margin-bottom: 6px;
        }

        .suggestions-container {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 10px;
        }

        .suggestion-btn {
            background: rgba(255, 204, 51, 0.15);
            border: 1.5px solid var(--color-secondary);
            color: var(--color-secondary);
            padding: 8px 14px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.82em;
            font-family: var(--font-sans);
            text-transform: none;
            letter-spacing: 0;
            transition: all 0.2s ease;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            font-weight: 500;
        }

        .suggestion-btn:hover {
            background: var(--color-secondary);
            color: #131615;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 204, 51, 0.3);
        }

        .suggestion-btn:active {
            transform: translateY(0);
        }

        button:hover {
            background: var(--color-secondary);
            color: var(--color-dark);
        }

        button.secondary {
            border-color: var(--color-primary-light);
            color: var(--color-primary-light);
        }

        button.secondary:hover {
            background: var(--color-primary-light);
            color: var(--color-light);
        }

        .summary-section {
            background: rgba(52, 73, 94, 0.5);
            border: 2px solid var(--color-success);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .summary-section h3 {
            color: var(--color-success);
            margin-top: 0;
            font-family: var(--font-mono);
        }

        .primary-section {
            margin-bottom: 30px;
        }

        .primary-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .consciousness-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .save-btn {
            width: 100%;
            padding: 15px;
            font-size: 1em;
            margin-bottom: 20px;
        }

        .consciousness-display {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .consciousness-item {
            background: rgba(26, 77, 109, 0.4);
            border: 1px solid var(--color-primary-light);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }

        .consciousness-item-label {
            font-size: 0.75em;
            color: #95a5a6;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
        }

        .consciousness-item-value {
            color: var(--color-secondary);
            font-family: var(--font-mono);
            font-weight: bold;
            word-break: break-word;
        }

        .preview-section {
            background: rgba(52, 73, 94, 0.5);
            border: 2px solid var(--color-primary-light);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .preview-section h3 {
            color: var(--color-primary-light);
            margin-top: 0;
            font-family: var(--font-mono);
        }

        .identity-statement {
            background: rgba(15, 36, 56, 0.8);
            padding: 15px;
            border-left: 4px solid var(--color-secondary);
            border-radius: 8px;
            font-style: italic;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .identity-statement-empty {
            color: #7f8c8d;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .stat {
            background: rgba(26, 77, 109, 0.4);
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--color-primary-light);
            text-align: center;
        }

        .stat-label {
            font-size: 0.7em;
            color: #95a5a6;
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.8em;
            color: var(--color-secondary);
            font-family: var(--font-mono);
            font-weight: bold;
        }

        .connection-visual {
            background: rgba(26, 77, 109, 0.3);
            border: 1px dashed var(--color-primary-light);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-family: var(--font-mono);
            font-size: 0.85em;
            line-height: 1.6;
            color: #bdc3c7;
        }

        .export-section {
            background: rgba(52, 73, 94, 0.5);
            border: 2px solid var(--color-primary-light);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            text-align: center;
        }

        .export-section h3 {
            color: var(--color-primary-light);
            margin-top: 0;
            font-family: var(--font-mono);
        }

        .export-button {
            background: var(--color-success);
            color: var(--color-dark);
            border: 1px solid var(--color-success);
            padding: 12px 20px;
            margin-right: 10px;
            font-weight: bold;
        }

        .export-button:hover {
            background: #229954;
            border-color: #229954;
        }

        @media (max-width: 1200px) {
            .main-grid {
                grid-template-columns: 1fr;
            }

            .consciousness-display {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .consciousness-display {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>⟪ IDENTITY COMMAND CENTER ⟫</h1>
        </div>

        <!-- EXTERNAL IDENTITY: TRAITS & ROLES (PRIMARY) -->
        <div class="primary-section">
            <div class="primary-grid">
                <!-- Traits Panel -->
                <div class="panel">
                    <div class="panel-header">
                        <h2>TRAITS</h2>
                        <span class="panel-label">[Adjectives]</span>
                    </div>
                    <div class="input-group">
                        <label>Enter a trait:</label>
                        <input type="text" id="traitInput" placeholder="e.g., Authentic, Ambitious, Creative...">
                        <button onclick="addTrait()">Add Trait</button>
                        <div class="suggestions-label">Quick suggestions:</div>
                        <div class="suggestions-container" id="traitSuggestions"></div>
                    </div>
                    <div class="tag-container" id="traitsContainer"></div>
                </div>

                <!-- Roles Panel -->
                <div class="panel">
                    <div class="panel-header">
                        <h2>ROLES</h2>
                        <span class="panel-label">[Nouns]</span>
                    </div>
                    <div class="input-group">
                        <label>Enter a role:</label>
                        <input type="text" id="roleInput" placeholder="e.g., Leader, Mentor, Entrepreneur...">
                        <button onclick="addRole()">Add Role</button>
                        <div class="suggestions-label">Quick suggestions:</div>
                        <div class="suggestions-container" id="roleSuggestions"></div>
                    </div>
                    <div class="tag-container" id="rolesContainer"></div>
                </div>
            </div>
        </div>

        <!-- INTERNAL CONSCIOUSNESS SECTIONS -->
        <div class="consciousness-grid">
            <!-- Vision -->
            <div class="panel">
                <div class="panel-header">
                    <h2>VISION</h2>
                    <span class="panel-label">[Future State]</span>
                </div>
                <textarea id="visionInput" placeholder="What do you see for your future?"></textarea>
                <div class="suggestions-label">Quick suggestions:</div>
                <div class="suggestions-container" id="visionSuggestions"></div>
            </div>

            <!-- Mission -->
            <div class="panel">
                <div class="panel-header">
                    <h2>MISSION</h2>
                    <span class="panel-label">[Core Purpose]</span>
                </div>
                <textarea id="missionInput" placeholder="What is your core purpose?"></textarea>
                <div class="suggestions-label">Quick suggestions:</div>
                <div class="suggestions-container" id="missionSuggestions"></div>
            </div>

            <!-- Purpose -->
            <div class="panel">
                <div class="panel-header">
                    <h2>PURPOSE</h2>
                    <span class="panel-label">[Why You Do It]</span>
                </div>
                <textarea id="purposeInput" placeholder="Why do you do what you do?"></textarea>
                <div class="suggestions-label">Quick suggestions:</div>
                <div class="suggestions-container" id="purposeSuggestions"></div>
            </div>

            <!-- Values -->
            <div class="panel">
                <div class="panel-header">
                    <h2>VALUES</h2>
                    <span class="panel-label">[Principles]</span>
                </div>
                <textarea id="valuesInput" placeholder="What principles guide you? (comma-separated)"></textarea>
                <div class="suggestions-label">Quick suggestions:</div>
                <div class="suggestions-container" id="valuesSuggestions"></div>
            </div>

            <!-- Rules -->
            <div class="panel">
                <div class="panel-header">
                    <h2>RULES</h2>
                    <span class="panel-label">[If/Then & Is/Are]</span>
                </div>
                <textarea id="rulesInput" placeholder="e.g., 'If this, then that' or 'The world is...'"></textarea>
                <div class="suggestions-label">Quick suggestions:</div>
                <div class="suggestions-container" id="rulesSuggestions"></div>
            </div>

            <!-- Beliefs -->
            <div class="panel">
                <div class="panel-header">
                    <h2>BELIEFS</h2>
                    <span class="panel-label">[What You Hold True]</span>
                </div>
                <textarea id="beliefsInput" placeholder="What do you fundamentally believe?"></textarea>
                <div class="suggestions-label">Quick suggestions:</div>
                <div class="suggestions-container" id="beliefsSuggestions"></div>
            </div>

            <!-- Strategies -->
            <div class="panel">
                <div class="panel-header">
                    <h2>STRATEGIES</h2>
                    <span class="panel-label">[Action Plans]</span>
                </div>
                <textarea id="strategiesInput" placeholder="What approaches do you use?"></textarea>
                <div class="suggestions-label">Quick suggestions:</div>
                <div class="suggestions-container" id="strategiesSuggestions"></div>
            </div>

            <!-- Behaviors -->
            <div class="panel">
                <div class="panel-header">
                    <h2>BEHAVIORS</h2>
                    <span class="panel-label">[Coping & Adaptive]</span>
                </div>
                <textarea id="behaviorsInput" placeholder="What behaviors do you practice?"></textarea>
                <div class="suggestions-label">Quick suggestions:</div>
                <div class="suggestions-container" id="behaviorsSuggestions"></div>
            </div>

            <!-- Habits -->
            <div class="panel">
                <div class="panel-header">
                    <h2>HABITS</h2>
                    <span class="panel-label">[Daily Practices]</span>
                </div>
                <textarea id="habitsInput" placeholder="What habits do you maintain? (comma-separated)"></textarea>
                <div class="suggestions-label">Quick suggestions:</div>
                <div class="suggestions-container" id="habitsSuggestions"></div>
            </div>

            <!-- Results -->
            <div class="panel">
                <div class="panel-header">
                    <h2>RESULTS</h2>
                    <span class="panel-label">[Outcomes & Impact]</span>
                </div>
                <textarea id="resultsInput" placeholder="What outcomes are you creating?"></textarea>
                <div class="suggestions-label">Quick suggestions:</div>
                <div class="suggestions-container" id="resultsSuggestions"></div>
            </div>
        </div>

        <button onclick="saveConsciousness()" class="secondary save-btn">Save All Elements</button>

        <!-- CONSCIOUSNESS DISPLAY -->
        <div class="summary-section">
            <h3>▸ CONSCIOUSNESS MATRIX</h3>
            <div class="consciousness-display">
                <div class="consciousness-item">
                    <div class="consciousness-item-label">Vision</div>
                    <div class="consciousness-item-value" id="displayVision">—</div>
                </div>
                <div class="consciousness-item">
                    <div class="consciousness-item-label">Mission</div>
                    <div class="consciousness-item-value" id="displayMission">—</div>
                </div>
                <div class="consciousness-item">
                    <div class="consciousness-item-label">Values</div>
                    <div class="consciousness-item-value" id="displayValues">—</div>
                </div>
                <div class="consciousness-item">
                    <div class="consciousness-item-label">Purpose</div>
                    <div class="consciousness-item-value" id="displayPurpose">—</div>
                </div>
            </div>
        </div>

        <!-- IDENTITY STATEMENT -->
        <div class="preview-section">
            <h3>▸ IDENTITY STATEMENT</h3>
            <div class="identity-statement" id="identityStatement">
                <span class="identity-statement-empty">Your identity statement will appear here as you fill in traits, roles, and consciousness elements.</span>
            </div>

            <!-- Connection Visualization -->
            <div class="connection-visual">
                <strong>▸ CONNECTION ARCHITECTURE</strong>
                <div id="connectionMap" style="margin-top: 10px; white-space: pre-wrap; font-size: 0.9em;"></div>
            </div>

            <!-- Statistics -->
            <div class="stats-grid">
                <div class="stat">
                    <div class="stat-label">Traits</div>
                    <div class="stat-value" id="traitCount">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">Roles</div>
                    <div class="stat-value" id="roleCount">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">Values</div>
                    <div class="stat-value" id="valueCount">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">Completeness</div>
                    <div class="stat-value" id="completenessPercent">0%</div>
                </div>
            </div>
        </div>

        <!-- EXPORT SECTION -->
        <div class="export-section">
            <h3>▸ EXPORT IDENTITY PROFILE</h3>
            <button class="export-button" onclick="exportJSON()">Export as JSON</button>
            <button class="export-button" onclick="exportText()">Export as Text</button>
            <button class="export-button secondary" onclick="clearAll()">Clear All</button>
        </div>
    </div>

    <script>
        const suggestionData = {
            traits: ["Authentic", "Genuine", "Honest", "Transparent", "Sincere", "Candid", "Real", "True", "Ambitious", "Driven", "Determined", "Relentless", "Tenacious", "Persistent", "Unwavering", "Resolute", "Steadfast", "Committed", "Dedicated", "Intelligent", "Wise", "Thoughtful", "Reflective", "Contemplative", "Analytical", "Strategic", "Perceptive", "Insightful", "Intellectual", "Astute", "Discerning", "Judicious", "Creative", "Innovative", "Imaginative", "Visionary", "Inventive", "Original", "Ingenious", "Artistic", "Expressive", "Unconventional", "Pioneering", "Empathetic", "Compassionate", "Kind", "Caring", "Nurturing", "Considerate", "Sensitive", "Intuitive", "Attuned", "Emotionally intelligent", "Tender", "Gentle", "Understanding", "Resilient", "Strong", "Courageous", "Brave", "Bold", "Fearless", "Unbreakable", "Tough", "Warrior-like", "Fortified", "Indomitable", "Unstoppable", "Charismatic", "Magnetic", "Engaging", "Personable", "Charming", "Sociable", "Warm", "Approachable", "Articulate", "Communicative", "Gregarious", "Convivial", "Winsome", "Principled", "Ethical", "Moral", "Righteous", "Just", "Fair", "Honorable", "Virtuous", "Upright", "Incorruptible", "Growth-oriented", "Curious", "Inquisitive", "Learner", "Adaptive", "Flexible", "Agile", "Evolving", "Progressive", "Forward-thinking", "Open-minded", "Teachable", "Receptive", "Optimistic", "Positive", "Enthusiastic", "Energetic", "Vibrant", "Spirited", "Uplifting", "Inspiring", "Motivating", "Radiant", "Luminous", "Buoyant", "Ebullient", "Grounded", "Centered", "Balanced", "Stable", "Steady", "Calm", "Peaceful", "Serene", "Composed", "Mindful", "Present", "Equanimous", "Tranquil", "Responsible", "Accountable", "Reliable", "Dependable", "Trustworthy", "Faithful", "Loyal", "Conscientious", "Meticulous", "Diligent", "Excellent", "Detailed", "Precise", "Thorough", "Professional", "Polished", "Refined", "Exemplary", "Masterful", "Consummate", "First-rate", "Collaborative", "Cooperative", "Supportive", "Helpful", "Generous", "Giving", "Team-oriented", "Unifying", "Bridging", "Inclusive", "Communal", "Altruistic", "Unique", "Distinctive", "Unconventional", "Independent", "Self-assured", "Individualistic", "Nonconforming", "Trailblazing", "Maverick", "Patient", "Disciplined", "Focused", "Concentrated", "Intentional", "Deliberate", "Controlled", "Measured", "Unhurried", "Confident", "Assured", "Poised", "Humble", "Modest", "Unpretentious", "Connected", "Relational", "Bonded", "Intimate", "Deep", "Profound", "Soulful", "Heartfelt", "Proactive", "Action-oriented", "Enterprising", "Initiating", "Purposeful", "Conscious", "Aware", "Vigilant", "Exuberant", "Jubilant", "Joyful", "Blissful", "Ecstatic", "Passionate", "Fervent", "Zealous", "Ardent", "Devoted", "All-in", "Wholehearted"],
            roles: ["Leader", "Guide", "Visionary", "Pioneer", "Pathfinder", "Trailblazer", "Luminary", "Visionary Leader", "Change Agent", "Thought Leader", "Mentor", "Teacher", "Coach", "Facilitator", "Educator", "Trainer", "Tutor", "Enlightener", "Awakener", "Developer", "Cultivator", "Creator", "Builder", "Architect", "Designer", "Artist", "Maker", "Craftsperson", "Inventor", "Author", "Composer", "Sculptor", "Innovator", "Entrepreneur", "Disruptor", "Revolutionary", "Catalyst", "Changemaker", "Transformer", "Game-changer", "Analyst", "Problem Solver", "Strategist", "Consultant", "Advisor", "Tactician", "Planner", "Organizer", "Systematizer", "Communicator", "Spokesperson", "Speaker", "Storyteller", "Writer", "Orator", "Narrator", "Wordsmith", "Raconteur", "Broadcaster", "Connector", "Networker", "Community Builder", "Weaver", "Bridge Builder", "Unifier", "Ally", "Friend", "Advocate", "Activist", "Champion", "Defender", "Protector", "Crusader", "Ambassador", "Voice", "Upholder", "Expert", "Specialist", "Master", "Authority", "Practitioner", "Scholar", "Sage", "Virtuoso", "Ace", "Connoisseur", "Healer", "Caregiver", "Nurturer", "Supporter", "Helper", "Therapist", "Counselor", "Companion", "Listener", "Executive", "Manager", "Director", "Administrator", "Coordinator", "Producer", "Supervisor", "President", "Chief", "Commander", "Investor", "Partner", "Collaborator", "Team Member", "Stakeholder", "Co-creator", "Supporter", "Backer", "Scientist", "Researcher", "Explorer", "Investigator", "Discoverer", "Seeker", "Inquirer", "Experimenter", "Performer", "Actor", "Musician", "Dancer", "Entertainer", "Expressor", "Animator", "Doer", "Executor", "Implementer", "Activator", "Operator", "Engineer", "Technician", "Strategist", "Dream Keeper", "North Star", "Rock", "Pillar", "Backbone", "Foundation", "Anchor", "Stronghold", "Refuge", "Oracle", "Alchemist", "Mystic", "Liberator", "Emancipator", "Herald", "Messenger", "Envoy", "Harvester", "Gardener", "Steward", "Custodian", "Knight", "Guardian", "Sentinel", "Witness", "Mirror", "Reflection", "Beacon", "Torch", "Light", "Star", "Sun", "Fire"],
            visions: ["Create a positive impact on the world and leave it better", "Build something meaningful that lasts generations", "Empower others to reach their fullest potential", "Leave a legacy of excellence and integrity", "Transform industries through innovation and disruption", "Foster genuine human connection in a digital world", "Solve humanity's greatest challenges", "Inspire the next generation of leaders and thinkers", "Create beauty, meaning, and purpose everywhere I touch", "Build a thriving, equitable community for all", "Advance human knowledge and understanding", "Design a more sustainable and regenerative future", "Unlock hidden potential in people and organizations", "Pioneer new frontiers and possibilities", "Create systems that serve everyone fairly", "Build trust-based ecosystems and relationships", "Establish a thriving family and personal legacy", "Master my craft and share it generously", "Create wealth that flows to others and communities", "Establish authentic, meaningful human relationships", "Build a scaled movement that creates cultural change", "Explore and expand human consciousness", "Create economic opportunity and mobility for all", "Establish a center of excellence in my field", "Cultivate wisdom and inner peace as a foundation", "Bridge divides and create understanding", "Build resilient systems and communities", "Create vessels of healing and transformation", "Light the way for others through my example", "Establish a world where everyone thrives"],
            missions: ["To help others achieve their dreams and aspirations", "To continuously grow, learn, and evolve", "To create exceptional value for others", "To build with integrity, excellence, and purpose", "To connect people, ideas, and possibilities", "To challenge the status quo and inspire change", "To serve those who cannot serve themselves", "To master my domain and lead by example", "To bring clarity, wisdom, and direction to complexity", "To empower others through education and mentorship", "To build systems of resilience and sustainability", "To create opportunities for growth and transformation", "To foster authentic, vulnerable relationships", "To pioneer transformative solutions", "To build a culture of excellence and accountability", "To unlock and cultivate human potential", "To create sustainable and regenerative value", "To inspire transformation through example", "To advance what's possible for humanity", "To build bridges across divides and differences", "To protect, steward, and regenerate resources", "To cultivate wisdom, compassion, and grace", "To democratize access to opportunity and knowledge", "To establish new standards of excellence", "To create joy, beauty, and meaning in all I do", "To strengthen families and communities", "To honor and amplify diverse voices", "To be a beacon of hope and possibility", "To awaken potential in others through my presence"],
            purposes: ["To elevate human potential and consciousness", "To solve meaningful, high-impact problems", "To create lasting, generational value", "To serve a cause greater than myself", "To build something meaningful and enduring", "To enable others' success and fulfillment", "To advance excellence in my field", "To strengthen and serve my community", "To leave the world better than I found it", "To master my craft and share it freely", "To create economic freedom and independence", "To inspire and catalyze transformation", "To build trust, connection, and belonging", "To pioneer new solutions and approaches", "To protect what matters most", "To cultivate deep, authentic relationships", "To advance equity, justice, and access", "To create beauty in all its forms", "To expand human capability and possibility", "To establish sustainable, regenerative systems", "To mentor and develop the next generation", "To integrate purpose, passion, and prosperity", "To pursue excellence in all endeavors", "To catalyze positive change at scale", "To build generational wealth and security", "To establish lasting cultural impact", "To create spaces of healing and growth", "To amplify and celebrate human potential", "To be a living example of my values"],
            values: ["Integrity", "Excellence", "Authenticity", "Honesty", "Truth", "Transparency", "Impact", "Purpose", "Meaning", "Legacy", "Contribution", "Service", "Stewardship", "Growth", "Learning", "Evolution", "Development", "Improvement", "Mastery", "Progression", "Connection", "Belonging", "Love", "Friendship", "Community", "Intimacy", "Loyalty", "Trust", "Respect", "Understanding", "Compassion", "Empathy", "Vulnerability", "Courage", "Wisdom", "Humility", "Generosity", "Kindness", "Patience", "Accountability", "Responsibility", "Fairness", "Justice", "Honor", "Virtue", "Peace", "Joy", "Fulfillment", "Happiness", "Contentment", "Gratitude", "Balance", "Harmony", "Serenity", "Equanimity", "Mindfulness", "Presence", "Health", "Vitality", "Energy", "Strength", "Resilience", "Independence", "Freedom", "Autonomy", "Agency", "Power", "Capability", "Potential", "Beauty", "Creativity", "Art", "Expression", "Innovation", "Originality", "Imagination", "Vision", "Design", "Excellence in craft", "Aesthetics", "Collaboration", "Cooperation", "Teamwork", "Partnership", "Alliance", "Support", "Empowerment", "Advocacy", "Inclusion", "Unity", "Oneness", "Sustainability", "Environmental care", "Regeneration", "Conservation", "Care for earth", "Quality", "Reliability", "Professionalism", "Leadership", "Strategic thinking", "Problem-solving", "Productivity", "Effectiveness", "Spirituality", "Transcendence", "Enlightenment", "Liberation", "Abundance", "Prosperity", "Opportunity", "Possibility", "Expansion", "Generosity", "Flow", "Ease", "Receptivity", "Openness", "Playfulness", "Curiosity", "Adventurousness", "Determination", "Persistence", "Tenacity", "Grit"],
            rules: ["If I stay consistent, results will follow", "If I face my fears, I grow stronger", "If I help others first, abundance returns", "If I stay humble, I remain teachable", "If I communicate clearly, misunderstandings diminish", "If I invest in relationships, they compound", "If I take responsibility, I gain power", "If I show up daily, extraordinary things happen", "If I listen deeply, I understand better", "If I give generously, I receive abundantly", "If I maintain my integrity, trust follows", "If I embrace discomfort, I expand", "If I ask better questions, I get better answers", "If I focus on what I can control, I feel empowered", "If I celebrate small wins, momentum builds", "If I invest in myself, everything improves", "If I lead with purpose, others follow", "If I act with courage, fear diminishes", "The world is full of possibility and abundance", "The world responds to clarity and intention", "The world rewards consistency and persistence", "The world is interconnected and interdependent", "The world is fundamentally fair and just", "The world is challenging yet full of beauty", "The world needs people with integrity", "The world is shaped by those who believe differently", "The world responds to authenticity", "The world is conspiring in my favor", "The world rewards action and courage", "People are fundamentally good and capable", "People want to grow and improve", "People respond to respect and recognition", "People need connection and belonging", "People are stronger together than apart", "People deserve dignity and respect", "People can change and transform", "People have untapped potential", "People want to be seen and understood", "People are capable of greatness", "People rise when given permission and support"],
            beliefs: ["I am capable of creating meaningful change", "My potential is unlimited and boundless", "Everything I want is on the other side of fear", "I attract what I consistently focus on", "Failure is feedback, not an endpoint", "My circumstances don't define my future", "I have complete control over my responses", "Growth is always possible at any stage", "Deep connection with others is essential", "I have something valuable to contribute", "Authenticity creates genuine belonging", "Challenges build character and resilience", "I deserve success, health, and fulfillment", "My voice and perspective matter", "I am responsible for my life and results", "Everything happens for my growth", "I can learn anything I commit to", "My past doesn't determine my future", "I am worthy of love and respect", "Abundance is my natural state", "I create my reality through belief and action", "Others want me to succeed", "Vulnerability is strength", "I am becoming who I'm meant to be", "My struggles have purpose and meaning", "I am more powerful than I realize", "Connection and contribution fulfill me", "I choose progress over perfection", "I am deserving of all good things", "My potential is limitless"],
            strategies: ["Build deep, strategic relationships with key people", "Create and refine systems instead of doing individual tasks", "Leverage data, feedback, and metrics to optimize continuously", "Collaborate with people smarter and different than me", "Identify and ruthlessly remove bottlenecks", "Invest consistently in skill development and learning", "Create accountability structures and check-ins", "Break large goals into smaller, manageable milestones", "Diversify approaches and test multiple hypotheses", "Document and refine processes until they're repeatable", "Build in buffer time for unknowns and obstacles", "Lead by example first, before asking of others", "Communicate vision and values with absolute clarity", "Focus on 20% of activities that create 80% of results", "Build redundancy and fail-safes into critical systems", "Invest in relationships before needing them", "Create feedback loops for rapid iteration", "Stay curious and ask questions rather than assuming", "Simplify complex problems before solving", "Establish clear metrics for success", "Delegate and develop others' capabilities", "Create psychological safety for experimentation", "Document lessons learned for future reference"],
            behaviors: ["Journaling for self-reflection and clarity", "Meditation and mindfulness practice", "Physical exercise and movement", "Deep breathing during stress or anxiety", "Taking intentional breaks to recharge", "Creative expression through art, writing, or music", "Spending time in nature for perspective", "Having vulnerable conversations with trusted people", "Organizing and planning for clarity", "Reading and learning from others", "Helping others as an act of service", "Practicing daily gratitude", "Setting and maintaining healthy boundaries", "Problem-solving and strategizing challenges", "Pursuing hobbies and activities for joy", "Laughing, humor, and lightheartedness", "Practicing forgiveness of self and others", "Asking for help and support when needed", "Celebrating wins, big and small", "Having meaningful conversations", "Pursuing physical wellness", "Creating beauty in my environment", "Teaching or mentoring others", "Practicing active listening", "Engaging in challenging conversations", "Taking responsibility and accountability", "Seeking new experiences and adventures", "Reflecting on lessons and growth"],
            habits: ["Morning meditation or journaling", "Daily exercise or movement", "Reading for learning and growth", "Gratitude practice or reflection", "Weekly planning and review", "Monthly deep reflection and assessment", "Quarterly goal-setting and adjustment", "Annual visioning and legacy planning", "Daily affirmations or mantras", "Regular networking and relationship building", "Learning something new daily", "Teaching or mentoring others", "Giving back to community", "Maintaining consistent sleep schedule", "Staying hydrated and nourished", "Regular stretching or yoga", "Time in nature or outdoors", "Creative practice or expression", "Meaningful conversations", "Reviewing and adjusting goals", "Celebrating progress and wins", "Documentation of insights", "Sabbath or rest day practice", "Regular check-ins with mentors", "Staying curious and asking questions", "Writing and reflection", "Physical training or sport", "Family or relationship time"],
            results: ["Strong relationships built on trust and authenticity", "Increased confidence and self-belief", "Clearer sense of direction and purpose", "Higher productivity, impact, and output", "Deep personal fulfillment and satisfaction", "Improved physical and mental health", "Positive influence and impact on others", "Financial security, stability, and growth", "Recognition, respect, and influence", "Personal transformation and evolution", "Meaningful achievements and milestones", "Life balance, peace, and harmony", "Continuous improvement and progress", "Authentic and vulnerable connections", "Legacy of positive impact", "Resilience in face of challenges", "Clarity of vision and values", "Deeper self-understanding and awareness", "Ability to inspire and influence others", "Financial freedom and independence", "Professional excellence and mastery", "Strong support network and community", "Health, vitality, and longevity", "Meaningful contribution to causes", "Personal power and agency", "Joy, fulfillment, and aliveness"]
        };

        const state = {
            traits: [],
            roles: [],
            vision: '',
            mission: '',
            purpose: '',
            values: '',
            rules: '',
            beliefs: '',
            strategies: '',
            behaviors: '',
            habits: '',
            results: ''
        };

        function addTrait() {
            const input = document.getElementById('traitInput');
            const value = input.value.trim();
            
            if (value && !state.traits.includes(value)) {
                state.traits.push(value);
                input.value = '';
                renderTraits();
                updateIdentity();
            }
        }

        function addRole() {
            const input = document.getElementById('roleInput');
            const value = input.value.trim();
            
            if (value && !state.roles.includes(value)) {
                state.roles.push(value);
                input.value = '';
                renderRoles();
                updateIdentity();
            }
        }

        function removeTrait(trait) {
            state.traits = state.traits.filter(t => t !== trait);
            renderTraits();
            updateIdentity();
        }

        function removeRole(role) {
            state.roles = state.roles.filter(r => r !== role);
            renderRoles();
            updateIdentity();
        }

        function renderTraits() {
            const container = document.getElementById('traitsContainer');
            container.innerHTML = state.traits.map(trait => `
                <div class="tag">
                    ${trait}
                    <button onclick="removeTrait('${trait.replace(/'/g, "\\'")}')">×</button>
                </div>
            `).join('');
            updateStats();
        }

        function renderRoles() {
            const container = document.getElementById('rolesContainer');
            container.innerHTML = state.roles.map(role => `
                <div class="tag">
                    ${role}
                    <button onclick="removeRole('${role.replace(/'/g, "\\'")}')">×</button>
                </div>
            `).join('');
            updateStats();
        }

        function saveConsciousness() {
            state.vision = document.getElementById('visionInput').value.trim();
            state.mission = document.getElementById('missionInput').value.trim();
            state.purpose = document.getElementById('purposeInput').value.trim();
            state.values = document.getElementById('valuesInput').value.trim();
            state.rules = document.getElementById('rulesInput').value.trim();
            state.beliefs = document.getElementById('beliefsInput').value.trim();
            state.strategies = document.getElementById('strategiesInput').value.trim();
            state.behaviors = document.getElementById('behaviorsInput').value.trim();
            state.habits = document.getElementById('habitsInput').value.trim();
            state.results = document.getElementById('resultsInput').value.trim();
            
            updateIdentity();
            
            // Visual feedback
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = '✓ Saved';
            setTimeout(() => {
                btn.textContent = originalText;
            }, 1500);
        }

        function updateIdentity() {
            // Update consciousness display
            document.getElementById('displayVision').textContent = state.vision || '—';
            document.getElementById('displayMission').textContent = state.mission || '—';
            document.getElementById('displayValues').textContent = state.values || '—';
            document.getElementById('displayPurpose').textContent = state.purpose || '—';

            // Update identity statement
            if (state.traits.length > 0 || state.roles.length > 0 || state.vision) {
                let statement = 'I am ';
                
                if (state.traits.length > 0) {
                    statement += state.traits.slice(0, 3).join(', ');
                    if (state.roles.length > 0) {
                        statement += ' ';
                    }
                }
                
                if (state.roles.length > 0) {
                    statement += state.roles.slice(0, 2).join(', ') + '.';
                } else if (state.traits.length > 0) {
                    statement += '.';
                }
                
                if (state.vision) {
                    statement += ' My vision is to ' + state.vision + '.';
                }
                
                if (state.mission) {
                    statement += ' I am driven by ' + state.mission + '.';
                }
                
                document.getElementById('identityStatement').innerHTML = statement;
            } else {
                document.getElementById('identityStatement').innerHTML = 
                    '<span class="identity-statement-empty">Your identity statement will appear here as you fill in traits, roles, and consciousness elements.</span>';
            }

            updateConnectionMap();
            updateStats();
        }

        function updateConnectionMap() {
            const map = document.getElementById('connectionMap');
            
            let connections = '';
            connections += 'EXTERNAL FRAME:\n';
            connections += '├─ Traits: ' + (state.traits.length > 0 ? state.traits.join(', ') : '(none)') + '\n';
            connections += '└─ Roles: ' + (state.roles.length > 0 ? state.roles.join(', ') : '(none)') + '\n\n';
            
            connections += 'INTERNAL CONSCIOUSNESS:\n';
            connections += '├─ Vision: ' + (state.vision ? state.vision.substring(0, 40) + '...' : '(undefined)') + '\n';
            connections += '├─ Mission: ' + (state.mission ? state.mission.substring(0, 40) + '...' : '(undefined)') + '\n';
            connections += '├─ Values: ' + (state.values ? state.values.substring(0, 40) + '...' : '(undefined)') + '\n';
            connections += '└─ Purpose: ' + (state.purpose ? state.purpose.substring(0, 40) + '...' : '(undefined)') + '\n\n';
            
            connections += 'INTEGRATION:\n';
            const completeness = getCompleteness();
            connections += '└─ Identity Coherence: ' + completeness + '%';
            
            map.textContent = connections;
        }

        function updateStats() {
            document.getElementById('traitCount').textContent = state.traits.length;
            document.getElementById('roleCount').textContent = state.roles.length;
            
            const valueCount = state.values ? state.values.split(',').filter(v => v.trim()).length : 0;
            document.getElementById('valueCount').textContent = valueCount;
            
            document.getElementById('completenessPercent').textContent = getCompleteness() + '%';
        }

        function getCompleteness() {
            let score = 0;
            const maxScore = 6;
            
            if (state.traits.length > 0) score++;
            if (state.traits.length >= 5) score++;
            if (state.roles.length > 0) score++;
            if (state.vision) score++;
            if (state.mission) score++;
            if (state.values) score++;
            
            return Math.round((score / maxScore) * 100);
        }

        function exportJSON() {
            const data = {
                exportDate: new Date().toISOString(),
                identity: state,
                stats: {
                    totalTraits: state.traits.length,
                    totalRoles: state.roles.length,
                    completeness: getCompleteness() + '%'
                }
            };
            
            const dataStr = JSON.stringify(data, null, 2);
            downloadFile(dataStr, 'identity-profile.json', 'application/json');
        }

        function exportText() {
            let text = 'IDENTITY COMMAND CENTER PROFILE\n';
            text += '================================\n\n';
            text += 'Generated: ' + new Date().toLocaleString() + '\n\n';
            
            text += 'EXTERNAL IDENTITY\n';
            text += '-----------------\n';
            text += 'Traits: ' + (state.traits.length > 0 ? state.traits.join(', ') : '(none)') + '\n';
            text += 'Roles: ' + (state.roles.length > 0 ? state.roles.join(', ') : '(none)') + '\n\n';
            
            text += 'INTERNAL CONSCIOUSNESS\n';
            text += '----------------------\n';
            text += 'Vision: ' + (state.vision || '(undefined)') + '\n';
            text += 'Mission: ' + (state.mission || '(undefined)') + '\n';
            text += 'Values: ' + (state.values || '(undefined)') + '\n';
            text += 'Purpose: ' + (state.purpose || '(undefined)') + '\n\n';
            
            text += 'STATISTICS\n';
            text += '----------\n';
            text += 'Total Traits: ' + state.traits.length + '\n';
            text += 'Total Roles: ' + state.roles.length + '\n';
            text += 'Identity Coherence: ' + getCompleteness() + '%\n';
            
            downloadFile(text, 'identity-profile.txt', 'text/plain');
        }

        function downloadFile(content, filename, type) {
            const element = document.createElement('a');
            element.setAttribute('href', 'data:' + type + ';charset=utf-8,' + encodeURIComponent(content));
            element.setAttribute('download', filename);
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
        }

        function clearAll() {
            if (confirm('Are you sure you want to clear all data?')) {
                state.traits = [];
                state.roles = [];
                state.vision = '';
                state.mission = '';
                state.values = '';
                state.purpose = '';
                
                document.getElementById('traitInput').value = '';
                document.getElementById('roleInput').value = '';
                document.getElementById('visionInput').value = '';
                document.getElementById('missionInput').value = '';
                document.getElementById('valuesInput').value = '';
                document.getElementById('purposeInput').value = '';
                
                renderTraits();
                renderRoles();
                updateIdentity();
            }
        }

        // Allow Enter key to add traits/roles
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('traitInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addTrait();
            });
            document.getElementById('roleInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addRole();
            });
            
            renderSuggestions();
        });

        function renderSuggestions() {
            // Traits – show 40+
            const traitSuggestions = document.getElementById('traitSuggestions');
            traitSuggestions.innerHTML = suggestionData.traits.slice(0, 48).map(trait => 
                `<button type="button" class="suggestion-btn" onclick="addTraitFromSuggestion('${trait.replace(/'/g, "\\'")}')">${trait}</button>`
            ).join('');

            // Roles – show 40+
            const roleSuggestions = document.getElementById('roleSuggestions');
            roleSuggestions.innerHTML = suggestionData.roles.slice(0, 48).map(role => 
                `<button type="button" class="suggestion-btn" onclick="addRoleFromSuggestion('${role.replace(/'/g, "\\'")}')">${role}</button>`
            ).join('');

            // Visions – show all 30
            const visionSuggestions = document.getElementById('visionSuggestions');
            visionSuggestions.innerHTML = suggestionData.visions.map(vision => 
                `<button type="button" class="suggestion-btn" onclick="addVisionFromSuggestion('${vision.replace(/'/g, "\\'")}')">${vision}</button>`
            ).join('');

            // Missions – show all 29
            const missionSuggestions = document.getElementById('missionSuggestions');
            missionSuggestions.innerHTML = suggestionData.missions.map(mission => 
                `<button type="button" class="suggestion-btn" onclick="addMissionFromSuggestion('${mission.replace(/'/g, "\\'")}')">${mission}</button>`
            ).join('');

            // Purposes – show all 29
            const purposeSuggestions = document.getElementById('purposeSuggestions');
            purposeSuggestions.innerHTML = suggestionData.purposes.map(purpose => 
                `<button type="button" class="suggestion-btn" onclick="addPurposeFromSuggestion('${purpose.replace(/'/g, "\\'")}')">${purpose}</button>`
            ).join('');

            // Values – show 60+
            const valuesSuggestions = document.getElementById('valuesSuggestions');
            valuesSuggestions.innerHTML = suggestionData.values.slice(0, 80).map(value => 
                `<button type="button" class="suggestion-btn" onclick="addValuesFromSuggestion('${value.replace(/'/g, "\\'")}')">${value}</button>`
            ).join('');

            // Rules – show all 40
            const rulesSuggestions = document.getElementById('rulesSuggestions');
            rulesSuggestions.innerHTML = suggestionData.rules.map(rule => 
                `<button type="button" class="suggestion-btn" onclick="addRulesFromSuggestion('${rule.replace(/'/g, "\\'")}')">${rule}</button>`
            ).join('');

            // Beliefs – show all 30
            const beliefsSuggestions = document.getElementById('beliefsSuggestions');
            beliefsSuggestions.innerHTML = suggestionData.beliefs.map(belief => 
                `<button type="button" class="suggestion-btn" onclick="addBeliefsFromSuggestion('${belief.replace(/'/g, "\\'")}')">${belief}</button>`
            ).join('');

            // Strategies – show all 23
            const strategiesSuggestions = document.getElementById('strategiesSuggestions');
            strategiesSuggestions.innerHTML = suggestionData.strategies.map(strategy => 
                `<button type="button" class="suggestion-btn" onclick="addStrategiesFromSuggestion('${strategy.replace(/'/g, "\\'")}')">${strategy}</button>`
            ).join('');

            // Behaviors – show all 28
            const behaviorsSuggestions = document.getElementById('behaviorsSuggestions');
            behaviorsSuggestions.innerHTML = suggestionData.behaviors.map(behavior => 
                `<button type="button" class="suggestion-btn" onclick="addBehaviorsFromSuggestion('${behavior.replace(/'/g, "\\'")}')">${behavior}</button>`
            ).join('');

            // Habits – show all 28
            const habitsSuggestions = document.getElementById('habitsSuggestions');
            habitsSuggestions.innerHTML = suggestionData.habits.map(habit => 
                `<button type="button" class="suggestion-btn" onclick="addHabitsFromSuggestion('${habit.replace(/'/g, "\\'")}')">${habit}</button>`
            ).join('');

            // Results – show all 26
            const resultsSuggestions = document.getElementById('resultsSuggestions');
            resultsSuggestions.innerHTML = suggestionData.results.map(result => 
                `<button type="button" class="suggestion-btn" onclick="addResultsFromSuggestion('${result.replace(/'/g, "\\'")}')">${result}</button>`
            ).join('');
        }

        function filterSuggestions(type, query) {
            const q = query.toLowerCase();
            const items = suggestionData[type].filter(x => x.toLowerCase().includes(q));
            const targetId = type + 'Suggestions';
            const container = document.getElementById(targetId);

            const handlerMap = {
                traits: 'addTraitFromSuggestion',
                roles: 'addRoleFromSuggestion',
                visions: 'addVisionFromSuggestion',
                missions: 'addMissionFromSuggestion',
                purposes: 'addPurposeFromSuggestion',
                values: 'addValuesFromSuggestion',
                rules: 'addRulesFromSuggestion',
                beliefs: 'addBeliefsFromSuggestion',
                strategies: 'addStrategiesFromSuggestion',
                behaviors: 'addBehaviorsFromSuggestion',
                habits: 'addHabitsFromSuggestion',
                results: 'addResultsFromSuggestion'
            };

            const handler = handlerMap[type];

            if (items.length === 0) {
                container.innerHTML = '<span style="font-size:0.8em;color:#95a5a6;padding:8px;">No matches found. Try another search.</span>';
                return;
            }

            container.innerHTML = items.map(item =>
                `<button type="button" class="suggestion-btn" onclick="${handler}('${item.replace(/'/g, "\\'")}')">${item}</button>`
            ).join('');
        }

        function addTraitFromSuggestion(trait) {
            if (!state.traits.includes(trait)) {
                state.traits.push(trait);
                renderTraits();
                updateIdentity();
            }
        }

        function addRoleFromSuggestion(role) {
            if (!state.roles.includes(role)) {
                state.roles.push(role);
                renderRoles();
                updateIdentity();
            }
        }

        function addVisionFromSuggestion(vision) {
            document.getElementById('visionInput').value = vision;
            state.vision = vision;
            updateIdentity();
        }

        function addMissionFromSuggestion(mission) {
            document.getElementById('missionInput').value = mission;
            state.mission = mission;
            updateIdentity();
        }

        function addValuesFromSuggestion(value) {
            const input = document.getElementById('valuesInput');
            const current = input.value.trim();
            input.value = current ? current + ', ' + value : value;
            state.values = input.value;
            updateIdentity();
        }

        function addPurposeFromSuggestion(purpose) {
            document.getElementById('purposeInput').value = purpose;
            state.purpose = purpose;
            updateIdentity();
        }

        function addRulesFromSuggestion(rule) {
            const input = document.getElementById('rulesInput');
            const current = input.value.trim();
            input.value = current ? current + '\n' + rule : rule;
            state.rules = input.value;
            updateIdentity();
        }

        function addBeliefsFromSuggestion(belief) {
            const input = document.getElementById('beliefsInput');
            const current = input.value.trim();
            input.value = current ? current + '\n' + belief : belief;
            state.beliefs = input.value;
            updateIdentity();
        }

        function addStrategiesFromSuggestion(strategy) {
            const input = document.getElementById('strategiesInput');
            const current = input.value.trim();
            input.value = current ? current + '\n' + strategy : strategy;
            state.strategies = input.value;
            updateIdentity();
        }

        function addBehaviorsFromSuggestion(behavior) {
            const input = document.getElementById('behaviorsInput');
            const current = input.value.trim();
            input.value = current ? current + ', ' + behavior : behavior;
            state.behaviors = input.value;
            updateIdentity();
        }

        function addHabitsFromSuggestion(habit) {
            const input = document.getElementById('habitsInput');
            const current = input.value.trim();
            input.value = current ? current + ', ' + habit : habit;
            state.habits = input.value;
            updateIdentity();
        }

        function addResultsFromSuggestion(result) {
            const input = document.getElementById('resultsInput');
            const current = input.value.trim();
            input.value = current ? current + ', ' + result : result;
            state.results = input.value;
            updateIdentity();
        }
    </script>
</body>
</html>
